jQuery(document).ready(function(a){var t=[],p=!1,u=!1,e={subj:!1,sub_subj:!1,faq:!1},w=e;a(document).on("click",".fr_custom_dd:not(.fr_expanded_dd) > section",function(){a(this).parents(".fr_custom_dd").addClass("fr_expanded_dd");a(this).parents(".fr_custom_dd").find(".fr_custom_dd_list").clearQueue().slideDown(180)});a(document).on("click",".fr_custom_dd:not(.fr_expanded_dd)",function(b){a(b.target).hasClass("fr_custom_dd")&&a(this).find("> section").trigger("click")});a(document).on("click","*:not(.fr_custom_dd)",
function(b){a(b.target).hasClass("fr_custom_dd")||a(b.target).parents(".fr_custom_dd").length||(a(".fr_expanded_dd .fr_custom_dd_list").clearQueue().slideUp(180),a(".fr_expanded_dd").removeClass("fr_expanded_dd"))});a(document).on("click",".fr_expanded_dd > section",function(b){a(this).parents(".fr_custom_dd").find(".fr_custom_dd_list").clearQueue().slideUp(180);a(this).parents(".fr_custom_dd").removeClass("fr_expanded_dd")});a(document).on("click",".fr_custom_dd_list li:not(.fr_custom_dd_sel)",function(b){var d=
a(this),c=d.parents(".fr_custom_dd");b=d.data("val");c.find(".fr_custom_dd_list").clearQueue().slideUp(180);c.removeClass("fr_expanded_dd");c.find("section").html(d.html());setTimeout(function(){c.find(".fr_custom_dd_list li").removeClass("fr_custom_dd_sel");d.addClass("fr_custom_dd_sel")},180);d.parents("form").find(".fr_clear_search").trigger("click");a(window).trigger("fr_dd_change",[c,b])});a(".fr_faq_search input").keypress(function(b){if(13===b.keyCode)return b.preventDefault(),!1});window.fr_init_searchbox=
function(b){var d=!1,c=a("#"+b);a(window).on("fr_dd_change",function(h,g,l){if(!g.hasClass("fr_subjs_container")&&!g.hasClass("fr_sub_subjs_container"))return!0;g.hasClass("fr_subjs_container")?(fr_subj[b]=l,p||(fr_sub_subj[b]="any"),f()):fr_sub_subj[b]=l;m(!0);setTimeout(function(){v()},180);p||k()});var f=function(){if(!fr_sub_subjs_list[b]||"undefined"==typeof fr_sub_subjs_list[b][fr_subj[b]])return!1;var h=fr_sub_subjs_list[b][fr_subj[b]];if(Object.keys(h).length){var g=fr_sub_subjs_list[b][fr_subj[b]][fr_sub_subj[b]],
l='<div class="fr_sub_subjs_container fr_custom_dd"><section>'+(fr_sub_subj[b]&&"undefined"!=typeof g?g.name:fr_any_sub_subj_txt)+'</section><ul class="fr_sub_subjs_list fr_custom_dd_list" style="display: none;"><li data-val="any" data-dl="any" '+(fr_sub_subj[b]&&"undefined"!=typeof fr_sub_subjs_list[b][fr_subj[b]][fr_sub_subj[b]]?"":'class="fr_custom_dd_sel"')+">"+fr_any_sub_subj_txt+"</li>";a.each(h,function(n,q){if("object"==typeof JSON.parse(fr_excl_subj[b])&&-1!==JSON.parse(fr_excl_subj[b]).indexOf(n))return!0;
l+='<li data-val="'+n+'" data-dl="'+q.dl+'" '+(fr_sub_subj[b]&&fr_sub_subj[b]==n?'class="fr_custom_dd_sel"':"")+">"+q.name+"</li>"});l+="</ul></div>";a(".fr_sub_subj_wrap").html(l)}else a(".fr_sub_subj_wrap").empty()};a('[name="fr_forced_sub_subj"]').length||f();var k=function(){if(d)return!1;d=!0;c.find(".fr_faq_search").slideUp(300);c.find(".fr_faq_search input").prop("disabled","disabled");c.find(".fr_matching_faqs").html('<div class="fr_big_loader"></div>');var h={fr_f_ajax:"get_faqs",fr_id:b,
subj:fr_subj[b],sub_subj:a(".fr_sub_subjs_container").length?fr_sub_subj[b]:0,req_src:c.data("req-src"),excl_subj:JSON.parse(fr_excl_subj[b])};a.post(location.href,h,function(g){d=!1;c.find(".fr_faq_search input").removeAttr("disabled");c.find(".fr_matching_faqs").html(g);r();c.find(".fr_faq_search input").length&&2<c.find(".fr_faq_search input").val().length&&c.find(".fr_faq_search input").trigger("keyup");e.faq&&(a(e.faq).trigger("click"),e=w)})},r=function(){var h={};c.find(".fr_faqs_list li").each(function(g,
l){var n=a(this).text()+" "+a(this).data("searchable");h[a(this).data("val")]=n.toLowerCase()});c.on("keyup input",".fr_faq_search input",function(){if(!c.find(".fr_faqs_list li").length)return!1;"undefined"!=typeof fr_lfs_acting&&clearTimeout(fr_lfs_acting);fr_lfs_acting=setTimeout(function(){c.find(".fr_no_result").hide();m();var g=c.find(".fr_faq_search input"),l=a.trim(g.val());l=l.replace(",","").replace(".","").replace("?","");if(2<l.length&&g.val()!=g.attr("placeholder")){var n=l.toLowerCase().split(" "),
q=[];a.each(h,function(x,y){a.each(n,function(F,A){if(-1!==y.indexOf(A))return q.push(parseInt(x,10)),!1})});c.find(".fr_faqs_list li").each(function(x,y){-1!==a.inArray(a(this).data("val"),q)?a(this).clearQueue().fadeIn(200):a(this).clearQueue().fadeOut(200)});q.length||setTimeout(function(){c.find(".fr_no_result").clearQueue().fadeIn(200)},300);c.find(".fr_faq_search").addClass("fr_is_searching")}else c.find(".fr_faq_search").removeClass("fr_is_searching"),c.data("req-src")?c.find(".fr_faqs_list li").clearQueue().fadeOut(200):
c.find(".fr_faqs_list li").clearQueue().fadeIn(200)},300)})};r();c.on("click",".fr_clear_search",function(h){c.find("input").val("").trigger("keyup")});c.on("click",".fr_faqs_list li:not(.fr_sel_faq)",function(h){if(d)return!1;fr_faq[b]=a(this).data("val");if(fr_only_faq_pag)return window.open(fr_siteurl+"?p="+fr_faq[b],"_blank"),!1;d=!0;fr_faq[b]=a(this).data("val");v();c.find(".fr_faqs_list li").removeClass("fr_sel_faq");a(this).addClass("fr_sel_faq");a(this).parents(".fr_faqs_inner_wrap").addClass("fr_chosen_faq");
c.find(".fr_faq_search").slideUp(300);h=a(window).scrollTop();var g=c.find(".fr_faqs_inner_wrap").offset().top-100;h>g&&a("html, body").animate({scrollTop:g},300);"undefined"!=typeof t[fr_faq[b]]?(c.find(".fr_faq_container").html(t[fr_faq[b]]),d=!1):(c.find(".fr_faq_container").html('<div class="fr_big_loader"></div>'),a.post(location.href,{fr_f_ajax:"load_faq",fid:fr_faq[b]},function(l){t[fr_faq[b]]=l;c.find(".fr_faq_container").html(l);d=!1}))});var m=function(h){if(!c.find(".fr_chosen_faq").length)return!1;
c.find(".fr_faqs_inner_wrap").removeClass("fr_chosen_faq");c.find(".fr_faqs_list li").removeClass("fr_sel_faq");fr_faq[b]=!1;1<c.find(".fr_faqs_list li").length&&"undefined"==typeof h&&c.find(".fr_faq_search").slideDown(250);var g=c.find(".fr_faq_container");g.css("height",g.height());g.animate({height:c.find(".fr_faqs_list").outerHeight(!0)},700);"undefined"==typeof h&&(fr_faq[b]=!1,v(),d=!0);setTimeout(function(){c.find(".fr_faq_container").css("height","auto").empty();d=!1},750)};c.on("click",
".fr_back_to_faqs",function(h){h.stopPropagation();m()})};var v=function(b){if(fr_no_deepling||!fr_is_faq_search_pag||u||!a(".fr_subjs_list .fr_custom_dd_sel").length&&!a("input[name=fr_faq_subj_dl]").length)return!1;var d=[fr_faq_pag_baseurl],c=a("input[name=fr_faq_subj_dl]").length?a("input[name=fr_faq_subj_dl]").val():a(".fr_subjs_list .fr_custom_dd_sel").data("dl");d.push(c);fr_no_sub_subjs||(a(".fr_sub_subjs_list .fr_custom_dd_sel").length?d.push(a(".fr_sub_subjs_list .fr_custom_dd_sel").data("dl")):
fr_faq[fr_id]&&a(".fr_faqs_list [data-val="+fr_faq[fr_id]+"]").length&&d.push("any"));fr_faq[fr_id]&&a(".fr_faqs_list [data-val="+fr_faq[fr_id]+"]").length&&d.push(a(".fr_faqs_list [data-val="+fr_faq[fr_id]+"]").data("dl"));"undefined"==typeof b?history.pushState(null,null,d.join("/")):history.replaceState(null,null,d.join("/"))};window.onpopstate=function(b){if(fr_no_deepling)return!0;u=p=!0;b=z(location.href).replace(fr_faq_pag_baseurl+"/","");parts=b==z(fr_faq_pag_baseurl)?[]:b.split("/");(parts_count=
parts.length)?(e.subj='.fr_subjs_list li[data-dl="'+parts[0]+'"]',1===parts_count?(e.sub_subj=fr_no_sub_subjs?!1:'.fr_sub_subjs_list li[data-dl="any"]',e.faq=!1):2===parts_count?fr_no_sub_subjs?(e.sub_subj=!1,e.faq='.fr_faqs_list li[data-dl="'+parts[1]+'"]'):(e.sub_subj='.fr_sub_subjs_list li[data-dl="'+parts[1]+'"]',e.faq=!1):fr_no_sub_subjs?(e.sub_subj=!1,e.faq=parts[1]):(e.sub_subj='.fr_sub_subjs_list li[data-dl="'+parts[1]+'"]',e.faq='.fr_faqs_list li[data-dl="'+parts[2]+'"]'),a(e.subj).hasClass("fr_custom_dd_sel")?
fr_no_sub_subjs||a(e.sub_subj).hasClass("fr_custom_dd_sel")?(e.faq?a(e.faq).trigger("click"):back_to_faqs(),e=w):(p=e.faq=!1,a(e.sub_subj).trigger("click")):(e.faq=!1,a(e.subj).trigger("click"),e.sub_subj&&"any"!=e.sub_subj&&"undefined"!=typeof fetch_faqs&&(setTimeout(function(){p=!1;a(e.sub_subj).trigger("click")},10),fetch_faqs()))):(a('.fr_sub_subjs_list li[data-val="any"]').trigger("click"),fr_sub_subj[fr_id]="any",back_to_faqs());setTimeout(function(){u=p=!1},20)};var z=function(b){return"/"==
b.slice(-1)?b.substr(0,b.length-1):b};a(window).on("fr_dd_change",function(b,d,c){if(!d.hasClass("fr_faq_choice_dd"))return!0;b=d.parents(".fr_faq_choice_wrap").first().data("for-choice");B(b,c)});var B=function(b,d){if("object"!=typeof fr_faq_choices)return console.error("faq choices not found"),!1;var c=a('[data-for-choice="'+b+'"]'),f="object"!=typeof fr_faq_choices[d]?!1:fr_faq_choices[d];if(!c.length)return console.error("wrapper not found"),!1;if(!f)return console.error("choice not found"),
!1;a('[data-for-choice="'+b+'"] > .fr_faq_choice_wrap').length&&a('[data-for-choice="'+b+'"] > .fr_faq_choice_wrap').remove();c='<div class="fr_faq_choice_wrap" data-for-choice="'+d+'">';var k=f.txt;"def_solution"==f.on_choice?c+='<div class="fr_faq_txt">'+a("#fr_solution_case_wrap").html()+"</div>":"def_user_act"==f.on_choice?c+='<div class="fr_faq_txt">'+a("#fr_user_act_case_wrap").html()+"</div>":f.txt&&(a.each(["h1","h2","h3","h4","h6"],function(r,m){k=k.frReplaceAll("&lt;"+m,"<h5")}),a.each("iframe img table tr td th span i button a small".split(" "),
function(r,m){k=k.frReplaceAll("&lt;"+m,"<"+m)}),k=k.frReplaceAll("&gt;",">"),c+='<div class="fr_faq_txt">'+k+"</div>");f.gallery&&f.gallery.length&&(c+=C(d,f.gallery));f.kb&&f.kb.length&&(c+=D(f.kb));"question"==f.on_choice&&(c+=E(f.new_quest,f.choices));c+="</div>";a('[data-for-choice="'+b+'"]').append(c)},C=function(b,d){setTimeout(function(){a('[data-for-choice="'+b+'"] .fr_choice_gall_inner').justifiedGallery({rowHeight:fr_gall_img_h,maxRowHeight:"200%",lastRow:"nojustify",margins:7,border:0});
a('[data-for-choice="'+b+'"] .jg-entry').simpleLightbox({sourceAttr:"href",fileExt:!1,className:"fr_lb",history:!1,showCounter:!1,disableScroll:!1})},10);var c='<div class="fr_choice_gall_wrap"><div class="fr_choice_gall_inner">';a.each(d,function(f,k){fr_faq_imgs&&"undefined"!=typeof fr_faq_imgs[k]&&(c+='<a href="'+fr_faq_imgs[k].full+'"><img src="'+fr_faq_imgs[k].thumb+'" alt="" /></a>')});return c+"</div></div>"},D=function(b){var d='<h6 class="fr_choice_kb_legend">'+fr_kb_legend+'</h6><ul class="fr_choice_kb">';
a.each(b,function(c,f){"object"==typeof fr_faq_links&&"undefined"!=typeof fr_faq_links[f]&&(d+='<li><a href="'+fr_faq_links[f].url+'" target="_blank">'+fr_faq_links[f].title+"</a></li>")});return d+"</ul>"},E=function(b,d){if("object"!=typeof d||!d.length)return console.error("child choices not found"),"";var c='<hr class="fr_sub_choice_hr" /><h4 class="fr_new_question">'+b+'</h4><div class="fr_faq_choice_dd fr_custom_dd"><section><em>'+fr_sel_an_opt_txt+'</em></section><ul class="fr_faq_choices_dd fr_custom_dd_list">';
a.each(d,function(f,k){c+='<li data-val="'+k+'">'+fr_faq_choices[k].opt_name+"</li>"});return c+="</ul></div>"};String.prototype.frReplaceAll=function(b,d){return void 0===d?this.toString():this.split(b).join(d)};a(document).on("click",".fr_rating_box:not(.fr_already_voted) span",function(b){b=a(this);var d=b.parents(".fr_rating_box");b.addClass("fr_rating_choice");d.find("p").fadeTo(350,0,function(){a(this).html(fr_after_vote_txt);a(this).fadeTo(350,1)});setTimeout(function(){d.addClass("fr_already_voted")},
800);b={fr_f_ajax:"vote_faq",fid:d.data("fid"),fr_vote:b.hasClass("fr_faq_downvote")?"down":"up"};a.post(location.href,b,function(c){"success"!=a.trim(c)&&console.error(c)})})});